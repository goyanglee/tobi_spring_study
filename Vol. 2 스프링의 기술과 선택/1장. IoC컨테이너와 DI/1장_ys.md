# 1장. IOC 컨테이너와 DI

**IOC/DI** : 사실상 자바의 표준 프로그래밍 모델

스프링 외에도, IOC/DI를 제공하는 것은 많지만, **스프링만큼 유연하고 강력한 기능을 가진 IOC 컨테이너와 DI 기술을 제공하는 것은 없다.**

# 1.1 IOC 컨테이터 : 빈 팩토리와 애플리케이션 컨텍스트

**스프링 어플리케이션**에서는 오**브젝트의 생성과 관계설정, 사용, 제거 등의 작업을 애플리케이션 코드 대신 독립된 컨테이너가 담당**.

이를 **컨테이너가 코드대신 오브젝트에 제어권을 갖고 있다**고 해서 **IOC** 라고 부른다.

### 스프링 컨테이너 = IOC 컨테이너

스프링에선 **IOC를 담당하는 컨테이너**를 **빈 팩토리 또는 애플리케이션 컨텍스트**라고 부른다.

오브젝트 생성과 오브젝트 사이의 런타임 관계를 설정하는 DI 관점으로 볼 때는 컨테이너를 빈 팩토리라고 한다. 

그런데 스프링 컨테이너는 단순한 DI 작업보다 더 많은 일을 한다.

DI를 위한 빈 팩토리에 엔터프라이즈 애플리케이션을 개발하는 데 필요한 여러 가지 컨테이너 기능을 추가한 것을 애플리케이션 컨텍스트라고 부른다.

애플리케이션 컨텍스트는 그 자체로도 IOC와 DI를 위한 빈 팩토리이면서 그 이상의 기능을 가졌다고 보면 된다.

스프링의 IOC컨테이너는 일반적으로 애플리케이션 컨텍스트를 말한다.

```java
public interface ApplicationContext extends ListableBeanFactory,
  HierarchicalBeanFactory, MessageSource, ApplicationEventPiblisher,
  ResourcePatternResolver {
```

= ApplicationContext 인터페이스를 구현한 클래스의 오브젝트

= 스프링 컨테이너  또는 IOC컨테이너라고 말하는 것은 바로 이 ApplicationContext 인터페이스를 구현한 클래스의 오브젝트다. 

스프링 애플리케이션은 최소한 하나 이상의 IoC컨테이너, 즉 애플리케이션 컨텍스트 오브젝트를 가지고 있다. 하나 이상이라고 하는 이유는 한 개 이상의 애플리케이션 컨텍스트 오브젝트를 갖고 있는 경우도 많기 때문이다.

## 1.1.1 IoC컨테이너를 이용해 애플리케이션 만들기

간단하게 IOC 컨테이너 만드는 법 : ApplicationContext 구현 클래스의 인스턴스를 만드는 것

```java
StaticApplicaionContext ac = new StaticApplicationContext();
```

→ 빈 컨테이너

이러한 빈 컨테이너를 본격적인 IOC 컨테이너로 동작하게 하려면 **POJO 클래스와 설정 메타정보** 두가지가 필요하다. 

### POJO 클래스

: 애플리케이션의 핵심 코드를 담고 있다.

: 각각의 POJO는 특정 기술과 스펙에서 독립적일뿐더러 의존관계에 있는 다른 POJO와 느슨한 결합을 갖도록 만들어야 한다.

: POJO 코드를 설계할 때는 일단 유연한 변경 가능성을 고려해서 만든다.

![1%E1%84%8C%E1%85%A1%E1%86%BC%20IOC%20%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%82%E1%85%A5%E1%84%8B%E1%85%AA%20DI%2050e3a23badf64a6fb6e2cbe7b7f6fc7a/Untitled.png](1%E1%84%8C%E1%85%A1%E1%86%BC%20IOC%20%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%82%E1%85%A5%E1%84%8B%E1%85%AA%20DI%2050e3a23badf64a6fb6e2cbe7b7f6fc7a/Untitled.png)

### 설정 메타정보

만든 POJO 클래스 들 중에 애플리케이션에서 사용할 것을 선정하고 이를 IoC컨테이너가 제어할 수 있도록 적절한 메타정보를 만들어 제공하는 작업이 ㅣㅍㄹ요하다.

IoC컨테이너의 가장 기초적인 역할은 오브젝트를 생성하고 이를 관리하는 것이다.

스프링 컨테이너가 관리하는 이런 오브젝트는 빈(bean)이라고 부른다.

IoC컨테이너가 필요로 하는 설정 메타정보는 바로 이 빈을 어떻게 만들고 어떻게 동작하게 할 것인가에 관한 정보다.

스프링 설정 메타정보는 BeanDefinition 인터페이스로 표현되는 순수한 추상정보다.

IoC 컨테이너,