# 9장 스프링 프로젝트 시작하기



스프링은 주로 자바 엔터프라이즈 환경에서 동작하는 애플리케이션을 개발하는 목적으로 사용된다. 

<br/>

> #### 자바 엔터프라이즈 애플리케이션
>
> 클라이언트의 요청을 받아서 그에 대한 작업을 수행하고 그 결과를 돌려주는 것이 기본 동작방식이다. 
>
> 클라이언트의 요청없이도 정해진 시간이나 특정 이벤트 발생에 따라 독자적으로 작업을 수행하기도 한다. 

<br/>

- 스프링 엔터프라이즈 애플리케이션이 사용하는 백엔드 시스템으로는 DB, 메시징 서버, 메일 서버, 메인프레임이 있다. 웹 서비스를 제공하는 서버도 자주 사용되며, 한 번에 여러 종류의 백엔드 시스템을 이용할 수 있다. 
- 스프링으로 만든 애플리케이션을 자바 서버환경에 배포하려면 JavaEE 서버가 필요하다. Java EE 표준을 따르는 애플리케이션 서버는 두 가지로 구분된다. 
  - 경량급 WAS/서블릿 컨테이너 : 톰캣, 제티 등
  - WAS : 고가이지만, 모니터링 또는 관리 기능이 뛰어나서 여러 대의 서버를 동시에 운영할 떄 유리하다. 
- 스프링으로 만든 애플리케이션을 세 가지 단위로 배포할 수 있다. 
  - 독립 웹 모듈
  - 엔터프라이즈 애플리케이션
  - 백그라운드 서비스 모듈 

<br/>

## 아키텍처

어떤 경계 안에 있는 내부 구성요소들이 어떤 책임을 갖고 있고, 어떤 방식으로 서로 관계를 맺고 동작하는 지를 규정하는 것

<br/>



### 계층형 아키텍처

책임과 성격이 다른 것을 크게 그룹으로 만들어 분리해두는 것. 멀티 티어 아키텍처. 보통 웹 기반의 엔터프라이즈 애플리케이션은 일반적으로 세 개의 계층을 갖는다고 해서 3계층 애플리케이션이라고도 한다. 각 계층은 응집도가 높으면서 다른 계층과는 낮은 결합도를 유지할 수 있어야 한다. 

#### 3계층 아키텍처

- 데이터 액세스 계층 : DB나 레거시 시스템과 연동하는 인터페이스 역할
- 서비스 계층 : 비즈니스 로직을 담음
- 프레젠테이션 계층 : 웹 기반의 ui를 만들어내고 그 흐름을 관리

<br/>

#### DI 할 때 주의할점(DI는 계층을 구분해주지 않음)

- 한 계층의 내부에서만 사용되도록 만든 빈 오브젝트가 있는데, 이를 DI를 통해 다른 계층에서 함부로 가져다 쓰지 않도록 주의
- 중간 계층을 건너뛰어서 관계를 갖지 않는 계층의 빈을 직접 DI하지 않도록 주의

<br/>



### 애플리케이션 정보 아키텍처

데이터 중심 아키텍처는 애플리케이션에 흘러다니는 정보를 단순히 값이나 값을 담기 위한 목적의 오브젝트 형태로 취급하는 구조. DB에 많은 로직을 둔다는 단점. 이 단점을 피하면서 애플리케이션 코드의 비중을 높이는 방법이 존재한다. DB에는 부하가 걸리지 않도록 저장 프로시저의 사용을 자제하고 복잡한 SQL은 피하면서, 주요 로직은 서비스 계층의 코드에서 처리하도록 만드는 것이다. 

<br/>

### 오브젝트 중심 아키텍처

오브젝트를 만들어두고 오브젝트 구조 안에 정보를 담아서 각 계층 사이에 전달하게 만드는 것

<br/>

## 스프링이 지원하는 기술?

- 해당 기술을 스프링의 DI 패턴을 따라 사용할 수 있다. 
  - 프레임워크나 라이브러리의 핵심 클래스를 빈으로 등록할 수 있게 지원해주는 것
- 스프링의 서비스 추상화가 적용됐다. 
  - 비슷한 기능을 제공하는 기술에 대해 일관된 접근 방법을 정의해주는 것. 이를 통해 서드파티 프레임워크를 적용할 수 있을 뿐만 아니라 필요에 따라 호환 가능한 기술로 손쉽게 교체해서 사용할 수 있다. 
- 스프링이 지지하는 프로그래밍 모델을 적용했다.
- 템플릿/콜백이 지원된다. 
  - 대부분의 템플릿 클래스는 빈으로 등록해서 필요한 빈에서 DI 받아 사용할 수 있다. 
